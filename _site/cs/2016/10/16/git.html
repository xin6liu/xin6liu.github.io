<!DOCTYPE html>

<html>

<head>
	<title>LiuXin</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<!--[if lte IE 8]><script src="http://localhost:4000/assets/js/ie/html5shiv.js"></script><![endif]-->
	<link rel="stylesheet" href="/assets/css/main_new.css">
	<link rel="stylesheet" href="/assets/css/syntax.css">
	<!--[if lte IE 9]><link rel="stylesheet" href="http://localhost:4000/assets/css/ie9.css" /><![endif]-->
	<!--[if lte IE 8]><link rel="stylesheet" href="http://localhost:4000/assets/css/ie8.css" /><![endif]-->
	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
	<script>
	MathJax = {
		options: {
			// processHtmlClass: 'math-tex',
			// ignoreHtmlClass: '.*',
			renderActions: {
				/* add a new named action not to override the original 'find' action */
				find_script_mathtex: [10, function (doc) {
					for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
					const display = !!node.type.match(/; *mode=display/);
					const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
					const text = document.createTextNode('');
					node.parentNode.replaceChild(text, node);
					math.start = {node: text, delim: '', n: 0};
					math.end = {node: text, delim: '', n: 0};
					doc.math.push(math);
					}
				}, '']
			}
		},
		tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
	};
	</script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>


<body>

<!-- Wrapper -->
<div id="wrapper">

<!-- Header -->
<header id="header"	
					>
	<a href="http://localhost:4000/" class="logo"><strong>LiuXin</strong> <span>stay hungry, stay foolish</span></a>
	<nav>
		<a href="#menu">Menu</a>
	</nav>
</header>

<!-- Menu -->
<nav id="menu">
	<ul class="links">
		
		
			
				<li><a href="/home/1python.html">网页开发 Web Development</a></li>
			
		
			
				<li><a href="/home/2ai.html">机器学习 Machine Learning</a></li>
			
		
			
				<li><a href="/home/3cfd.html">计算流体力学 CFD</a></li>
			
		
			
				<li><a href="/home/4cs.html">计算机科学 Computer Science</a></li>
			
		
			
				<li><a href="/home/5mns.html">纳米科学 Nanoscience</a></li>
			
		
			
				<li><a href="/home/6course.html">课程 Course</a></li>
			
		
			
				<li><a href="/home/7diary.html">生活 Diary</a></li>
			
		
			
				<li><a href="/home/8categories.html">标签 tags</a></li>
			
		
	</ul>
	<!-- <ul class="actions vertical">
		<li><a href="#" class="button special fit">Get Started</a></li>
		<li><a href="#" class="button fit">Log In</a></li>
	</ul> -->
</nav> 
    
    
<!-- Main -->
<div id="main" class="alt">

<!-- One -->
<section id="one">
	<div class="inner">
		<header class="major">
<!-- title -->
			<h1>本地管理多个git方法</h1>
<!-- 日期 -->		
		
		2016-10-16
		
		</header>
<!-- description -->	
		<h5>最近为了在本地电脑多加一个github管理，险些将原来的也给报废。花了一天的时间终于设置好了，发现其实网上说法有很多不同也有很多错误.</h5>
<!-- 图片 -->		
		<!-- 
		 -->
<!-- 正文 -->
		<p><p><img src="http://imgbbsw.baidu.com/data/forum/201311/24/113748qa422q2auu9szssk.jpg" alt="github" /></p>

<p>最近为了在本地电脑多加一个github管理，险些将原来的也给报废。花了一天的时间终于设置好了，发现其实网上说法有很多不同也有很多错误，以下是我的方法：</p>

<h2 id="0-我的基本信息">0. 我的基本信息：</h2>
<p>用户名1: x399liu; 邮箱1: 15514657777@163.com</p>

<p>用户名2: harryliuxin; 邮箱2: x399liu@gmail.com</p>

<h2 id="1-检查-ssh-密钥是否已存在">1. 检查 ssh 密钥是否已存在:</h2>
<p>输入<code>cd ~/.ssh</code>
若转入了这个文件夹就说明之前已经使用了一个帐号的密钥，为了统一名称什么的我们就直接删除(可以复制备份到桌面以免..), 重新一块儿建立两个密钥。</p>

<blockquote>
  <p>tips: 如果你用的苹果mac os 系统的话，.ssh文件应该是隐藏的，这里有两条非常实用的终端命令：
defaults write com.apple.finder AppleShowAllFiles Yes &amp;&amp; killall Finder //显示隐藏文件</p>

  <p>defaults write com.apple.finder AppleShowAllFiles No &amp;&amp; killall Finder //不显示隐藏文件</p>
</blockquote>

<h2 id="2-生成两个-ssh-key">2. 生成两个 ssh key:</h2>
<p><code>$ ssh-keygen -t rsa -C “155146577777@163.com"</code>
<code>$ ssh-keygen -t rsa -C “x399liu@gmail.com"</code></p>

<h2 id="3-起名字">3. 起名字:</h2>
<p><code>$ ssh-keygen -t rsa -C “155146577777@163.com"</code> 命令之后，会出现enter file in which to save the key这一命令，之前就直接回车默认了，但这里我们要输入一个自己想的名字，以免和第二个ssh key重名, 这里我起的是x399liu.</p>

<h2 id="4-复制密钥到github">4. 复制密钥到github</h2>
<p>把x399liu.pub里的内容复制到帐号上(就是打开你的github主页的settings里有一个shh keys选项，把pub文件里的内容全部复制到那里，tittle的话随便填一个就好了)</p>

<h2 id="5-把该key加到ssh-agent上">5. 把该key加到ssh agent上</h2>
<p>由于不是使用默认的.ssh/id_rsa，所以你需要显示告诉ssh agent你的新key的位置
<code>$ ssh-add ~/.ssh/x399liu</code></p>

<p>可以通过ssh-add -l来确认结果 ：
我的显示是：</p>

<pre><code>2048 SHA256:YCSjQ3tQLOLDpjlp2H2V//qK/eS5VNTYQB7TsOT4a+k /users/liuxin/.ssh/x399liu (RSA)
2048 SHA256:aRWDnlIsZ7QkBdua2ZKRGpVch6PIH8Cwvz2YkL4mOJ4 /users/liuxin/.ssh/harryliuxin (RSA)
（这是我加完第二个ssh key 后显示的结果）
</code></pre>

<h2 id="6-配置sshconfig">6. 配置.ssh/config:</h2>
<p>$ touch config
此时会出现空的config文件，然后添加如下内容：</p>

<pre><code>Host x399liu.github.com
 HostName github.com
 PreferredAuthentications publickey
 IdentityFile ~/.ssh/x399liu

Host harryliuxin.github.com
 HostName github.com
 PreferredAuthentications publickey
 IdentityFile ~/.ssh/harryliuxin
</code></pre>

<h2 id="7-测试配置是否正确">7. 测试配置是否正确:</h2>
<p>输入命令：<code>ssh git@“刚才你填的host”</code>，结果只要出现hi就是可以了：</p>

<pre><code>liuxindeMacBook-Air:.ssh liuxin$ ssh git@x399liu.github.com
The authenticity of host 'github.com (192.30.253.112)' can't be established.
RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'github.com,192.30.253.112' (RSA) to the list of known hosts.
PTY allocation request failed on channel 0
Hi x399liu! You've successfully authenticated, but GitHub does not provide shell access.
Connection to github.com closed.
liuxindeMacBook-Air:.ssh liuxin$ ssh git@harryliuxin.github.com
PTY allocation request failed on channel 0
Hi harryliuxin! You've successfully authenticated, but GitHub does not provide shell access.
Connection to github.com closed.
</code></pre>

<h2 id="8-使用">8. 使用</h2>
<p>本来正常情况下创建(clone)一个新的 repository的命令是：
<code>$ git clone git@github.com:harryliuxin/test.git</code>
其中harryliuxin是我的用户名，test是我的repository的名字，Github.com是默认host
但是刚才我们已经改过两个ssh的host了（x399liu.github.com和harryliuxin.github.com），所以这里应该是：
<code>$ git clone git@harryliuxin.github.com:harryliuxin/test.git</code>
然后把信息写上：
<code>$ git config user.name “harryliuxin”; git config user.email “x399liu@gmail.com"</code></p>

<p>之后我们cd到刚才克隆的test文件夹，随便写一个网页：
<code>$ echo “haha” &gt; liuxinhome.html</code>
然后进行push到云端的4步操作：</p>

<pre><code>1. git status
会出现untracked files
2. git add .
3. git commit -m “whatever you wanna say”
4. git push
</code></pre>

<p>大功告成，同样的，用x399liu的账号clone然后push也是同样的道理～ 不知道这篇文章有没有帮到你呢？</p>

<p>视频在这里：</p>

<p>NOTE: 如果一直用的帐户A(harryliuxin) commit 而这次想用帐户B(liuxin21) 操作的话（两个账号都已设置好），只需要</p>

<pre><code>$ git config user.name “liuxin21”
$ git config user.email "x399liu@edu.uwaterloo.ca"
</code></pre>

<p>之后正常操作就行了。</p>

<h2 id="更新2">更新2：</h2>

<p>有时候需要输入密码，可能是KEY没有了。解决方法：</p>

<p>先查看ssh 列表：
$ ssh-add -l
若显示The agent has no identities.
则要把KEY加到 SSH AGENT 上</p>

<p>因为有多个KEY，不用默认的.ssh/id_rsa
 所以要把KEY加到 SSH AGENT 上，</p>

<p>$ ssh-add ~/.ssh/liuxin21</p>

<p>再查看ssh 列表：
$ ssh-add -l</p>
</p>
	</div>

</section>
</div>


<!-- Footer -->
	<footer id="footer">
		<div class="inner">
			<ul class="icons">
				
				
				<li><a href="http://weibo.com/u/2377304267" class="icon alt fa-weibo" target="_blank"><span class="label">weibo</span></a></li>
				
				
				<li><a href="https://www.facebook.com/profile.php?id=100009585159226" class="icon alt fa-facebook" target="_blank"><span class="label">Facebook</span></a></li>
				
				
				<li><a href="https://www.instagram.com/harryliuxin/" class="icon alt fa-instagram" target="_blank"><span class="label">Instagram</span></a></li>
				
				
				
				
				
				<li><a href="http://www.miaopai.com/u/wxsso_p4mslofx14" class="icon alt fa-video-camera" target="_blank"><span class="label">video</span></a></li>
				
				
				<li><a href="https://www.linkedin.com/in/xin-liu-868501134" class="icon alt fa-linkedin" target="_blank"><span class="label">LinkedIn</span></a></li>
				
			</ul>
			<ul class="copyright">
				<li>&copy; LiuXin </li>
				<li> stay hungry, stay foolish</li>
				<li>Designed by: <a href="https://liuxin.in/about/" target="_blank">刘鑫</a></li>

			</ul>
		</div>
	</footer>

	

</body>

</html>